/**
 * Mars3D平台插件,结合heatmap可视化功能插件  mars3d-heatmap
 *
 * 版本信息：v3.4.2
 * 编译日期：2023-02-04 16:15:59
 * 版权所有：Copyright by 火星科技  http://mars3d.cn
 * 使用单位：中急管(北京)网络科技有限公司 ，2021-08-18
 */
(function (global, factory) {
  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, (window.mars3d || require('mars3d')), (window.h337 || require('@mars3d/heatmap.js'))) :
  typeof define === 'function' && define.amd ? define(['exports', 'mars3d', '@mars3d/heatmap.js'], factory) :
  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global["mars3d-heatmap"] = {}, global.mars3d, global.h337));
})(this, (function (exports, mars3d, h337) { 
'use strict';var _0xbd9382=_0xb30f;(function(_0xd8a835,_0x57e4b3){var _0x35c73b=_0xb30f,_0x15a9db=_0xd8a835();while(!![]){try{var _0x1ac6cb=-parseInt(_0x35c73b(0x1f8))/0x1+-parseInt(_0x35c73b(0x221))/0x2*(parseInt(_0x35c73b(0x207))/0x3)+parseInt(_0x35c73b(0x216))/0x4+-parseInt(_0x35c73b(0x213))/0x5*(parseInt(_0x35c73b(0x22d))/0x6)+parseInt(_0x35c73b(0x1f0))/0x7+-parseInt(_0x35c73b(0x23e))/0x8+parseInt(_0x35c73b(0x25c))/0x9;if(_0x1ac6cb===_0x57e4b3)break;else _0x15a9db['push'](_0x15a9db['shift']());}catch(_0x300807){_0x15a9db['push'](_0x15a9db['shift']());}}}(_0x4d54,0xee1ff));function _interopNamespace(_0x42d163){var _0x1a5fc9=_0xb30f;if(_0x42d163&&_0x42d163['__esModule'])return _0x42d163;var _0x49606a=Object['create'](null);return _0x42d163&&Object[_0x1a5fc9(0x245)](_0x42d163)[_0x1a5fc9(0x22e)](function(_0x5b2c42){var _0x187785=_0x1a5fc9;if(_0x5b2c42!=='default'){var _0x35d15e=Object[_0x187785(0x241)](_0x42d163,_0x5b2c42);Object['defineProperty'](_0x49606a,_0x5b2c42,_0x35d15e[_0x187785(0x256)]?_0x35d15e:{'enumerable':!![],'get':function(){return _0x42d163[_0x5b2c42];}});}}),_0x49606a[_0x1a5fc9(0x239)]=_0x42d163,_0x49606a;}var mars3d__namespace=_interopNamespace(mars3d),h337__namespace=_interopNamespace(h337);function _0x4d54(){var _0x1b56fa=['ywrKtgf5zxi','DMfSDwvpzG','Eg1PBG','y29Uy2f0','Dw5PzM9YBxm','zgvMyxvSDa','x2XHEwvY','CMvTB3zLr3jHCgHPyW','Bgf5zxi','sgvHDeXHEwvY','nJa5mdyZmMzhC3nZCW','x2nYzwf0zuDYyxbOAwm','ywrKug9ZAxrPB24','z2v0t3DUuhjVCgvYDhLezxnJCMLWDg9Y','BwLUq2fUDMfZu2L6zq','x2XHC3rFAgvHDerHDge','zMXVB3i','A2v5CW','Cg9PBNrZ','CMDIkdi1nsWYntuSmJu1kq','CMDIkde0mcWXndaSmtqWkq','qMXLBMrPBMDtDgf0zq','D3jPDgfIBgu','x3jLBMrLCMvY','ChvZAa','Bwf4','z2v0uhjVDg90ExbLt2y','Dw5KzwzPBMvK','quXxqvLt','DgHPCYbOyxnUj3qGyMvLBIbPBML0AwfSAxnLzcaTihn1CgvYkcKGAgfZBID0igjLzw4Gy2fSBgvK','x19LC01VzhvSzq','zgf0yq','z2v0t3DUuhjVCgvYDhLtEw1IB2XZ','yxjJ','z2v0','z3jHCgHPyW','u3rLBMnPBe9WzxjHDgLVBG','yM9KEq','zNjVBunHy2HL','y29UC3rYDwn0B3i','mtu3odyXntnZAfDYBuK','z3jHzgLLBNrbCMm','z2v0vMfSDwvbDa','q29SB3i','BwvYy2f0B3iYBg9UBgf0','yxr0CMLIDxrLihzLyZmGCg9ZAxrPB24ZreHPz2G7cIaGicaGicaGicbHDhrYAwj1DguGDMvJmYbWB3nPDgLVBJnetg93oWOGicaGicaGicaGyxr0CMLIDxrLihzLyZiGC3q7cIaGicaGicaGicbHDhrYAwj1DguGzMXVyxqGyMf0y2HjzdSkicaGicaGicaGihvUAwzVCM0GC2fTCgXLCJjeigj1BxbnyxbFmZSkicaGicaGicaGihzHCNLPBMCGDMvJmYb2x3bVC2L0Aw9Utum7cIaGicaGicaGicb2yxj5Aw5NihzLyZmGDL9WB3nPDgLVBKvdoWOGicaGicaGicaGDMfYEwLUzYb2zwmYihzFC3q7cGOGicaGicaGicaGDM9PzcbTywLUkcKkicaGicaGicaGihSkicaGicaGicaGicaGDMvJncbWid0Gy3PTx2nVBxb1DgvqB3nPDgLVBIGPoWOGicaGicaGicaGicb2x3bVC2L0Aw9UtumGpsbWB3nPDgLVBJnesgLNAcaRihbVC2L0Aw9Um0rmB3C7cIaGicaGicaGicaGihzFCg9ZAxrPB25fqYa9icHJEM1FBw9KzwXwAwv3uMvSyxrPDMvuB0v5zsaQihaPlNH5EJSkicaGicaGicaGicaGDL9ZDca9ihn0oWOGicaGicaGicaGicb2zwm0ignVBg9Yid0GDgv4DhvYztjekgj1BxbnyxbFmYWGDL9ZDcK7cIaGicaGicaGicaGigzSB2f0ignLBNrLCKj1BxaGpsbKAxn0yw5JzsH2zwmZkdaUmcKSy29SB3iUCMDIktSkicaGicaGicaGicaGDMvJmYb1CerPCIa9ig5VCM1HBgL6zsH2x3bVC2L0Aw9UtumUEhL6ktSkicaGicaGicaGicaGDMvJmYbKAxnqB3mGpsb1CerPCIaQignLBNrLCKj1BxaGkIa','yxjJuMfKAxvZu2nHBgu','6k+35BYv5ywLigHLyxrTyxaUANmG5BQtia','zgvMAw5LuhjVCgvYDgLLCW','zNjVBurLz3jLzxm','BwfYCZnKlwHLyxrTyxaGBwfYCZnKlwHPzgveAxy','Ew1PBG','x3jLy3rHBMDSzq','oWOGicaGicaGicaGicbWicS9DMvJncHKAxnqB3mSmc4WktSkicaGicaGicaGicaGz2XFug9ZAxrPB24GpsbJEM1FBw9KzwXwAwv3uhjVAMvJDgLVBLjLBgf0AxzLvg9fEwuGkIbWoWOGicaGicaGicaGFqOGicaGicaGia','x2DLDeHLyxrdyw52yxm','BwLU','vxrPBa','ug9SEvv0AwW','y29WEunHBNzHCW','ChG7','CMDIysG','y29UC3rYDwn0','ChG7AgvPz2H0oG','zw51BwvYywjSzq','x2fKzgvKsg9VAW','CMvTB3zL','ug9PBNruCMfUCW','Bwf4q2fUDMfZu2L6zq','y29UzMLNDxjL','u3rLBMnPBez1BMn0Aw9U','x21cB3vUzhnnyxG','C2v0rgf0yq','CM91BMq','yMX1CG','Cg9ZAxrPB25Z','B2jQzwn0','qMfZzuXHEwvY','Bg5N','rwXSAxbZB2LKu3vYzMfJzufWCgvHCMfUy2u','x3nJywXL','z3jLzw4','x3vWzgf0zvbVC2L0Aw9UC0HVB2S','CMDIkdiXnIWYmtySmJe2kq','Bgf0','uMvUzgvYu3rHDgu','z2v0t3DUuhjVCgvYDhLezxnJCMLWDg9YCW','y29VCMrPBMf0zxm','twf0zxjPywW','C2HVDW','x2DLDefYy0HLyxrdyw52yxm','q2fYDgvZAwfUmG','x3bVC2L0Aw9UCW','x2DYyxbOAwm','quXqsefFqKXftKq','Ew1HEa','ntG1nJmXowrtyLzrqq','tg5Ntgf0ug9PBNq','y29UDgfPBMvY','yxjJqMX1CLnJywXL','rg9TvxrPBa','D2LKDgG6','vKvsvevyx0zpuK1bva','AgvHDfn0EwXL','mtuYndu0n1nmyLL6DG','BgvUz3rO','C2v0uhjVDg90ExbLt2y','yMX1zq','ChjVDg90ExbL','r3jHCgHPy0XHEwvY','s0vfua','y2XPzw50v2LKDgG','q2fUBM90ignHBgWGysbJBgfZCYbHCYbHigz1BMn0Aw9U','yxbWBhK','DMfSDwu','uMvJDgfUz2XL','y3jLyxrL','x3jLBw92zwriB29R','Bg9UBgf0mM1LCMnHDg9Y','mJeYn1vxAxD2sq','uMvJDgfUz2XLuhjPBwL0AxzL','zgL2','B3b0Aw9UCW','x19WCM90B19F','tgf5zxjvDgLS','z2v0ug9PBNreyxrH','BwvYz2u','y2XLyxi','ywjZ','y2XPzw50sgvPz2H0','zNvUy3rPB24','nufIsgPIsW','z2v0uMvJDgfUz2XL','CMvTB3zLtgf5zxi','nJy2oda1nK9IC1jlCa','Dw5PzM9YBsbZyw1WBgvYmKqGAw1Hz2u7cGPJEM1FBwf0zxjPywWGy3PTx2DLDe1HDgvYAwfSkgn6Bv9TyxrLCMLHBeLUChv0ig1HDgvYAwfSsw5WDxqPihSkicbJEM1FBwf0zxjPywWGBwf0zxjPywWGpsbJEM1Fz2v0rgvMyxvSDe1HDgvYAwfSkg1HDgvYAwfSsw5WDxqPoWOGihzLyZiGC3qGpsbTyxrLCMLHBeLUChv0lNn0oWOGihzLyZqGy29SB3jjBwfNzsa9ihrLEhr1CMuYrcHPBwfNzsWGC3qPoWOGigLMkgnVBg9Ysw1Hz2uUCMDIid09ihzLyZmOms4Wksb8FcbJB2XVCKLTywDLlNjNyIa9psb2zwmZkdaUmcKPihSkicaGigrPC2nHCMq7cIaGFqOGig1HDgvYAwfSlMrPzMz1C2uGpsbJB2XVCKLTywDLlNjNyJSkicbTyxrLCMLHBc5HBhbOysa9ignVBg9Ysw1Hz2uUytSkicbYzxr1CM4GBwf0zxjPywW7cN0k','rgvYAxzLzcbJB25ZDhj1y3rVCNmGBwf5ig9UBhKGCMv0DxjUig9IAMvJDcbVCIb1BMrLzMLUzwq','x2HLyxq','Aw1Hz2u','x3nLDe9WDgLVBNniB29R','zMLSDgvY','Eg1HEa','zMX5vg8','x2XHC3rFBujVDw5KCW','y29UzMLNDxjHyMXL','mJq2og1JB2T3DW','C3r5Bgu','y2fUDMfZ','CMfKAxvZ','z3jHBNvSyxjPDhK','AgvPz2H0','x2nYzwf0zufYy0DYyxbOAwm','x21HCa','x21VDw50zwriB29R','AgvHDa','zgvMAw5LuhjVCgvYDhK','zgLMzKHLAwDODa','nZi5mdqYvhvnsw5R','zM9YrwfJAa','zM9YBwf0uMvJDgfUz2XL','CMvJDgfUz2XL','CgfYC2u','C2HHBq','ywrKr3jHCgHPyW'];_0x4d54=function(){return _0x1b56fa;};return _0x4d54();}function ownKeys(_0x156d9f,_0xae550){var _0x2cfdd9=_0xb30f,_0x3d8981=Object[_0x2cfdd9(0x245)](_0x156d9f);if(Object[_0x2cfdd9(0x254)]){var _0x54a769=Object[_0x2cfdd9(0x254)](_0x156d9f);_0xae550&&(_0x54a769=_0x54a769[_0x2cfdd9(0x21c)](function(_0x299f7a){var _0x54a773=_0x2cfdd9;return Object[_0x54a773(0x241)](_0x156d9f,_0x299f7a)[_0x54a773(0x1d0)];})),_0x3d8981[_0x2cfdd9(0x24c)][_0x2cfdd9(0x201)](_0x3d8981,_0x54a769);}return _0x3d8981;}function _objectSpread2(_0x4f8546){var _0x2a0d21=_0xb30f;for(var _0x539760=0x1;_0x539760<arguments[_0x2a0d21(0x1f9)];_0x539760++){var _0x4cc5da=null!=arguments[_0x539760]?arguments[_0x539760]:{};_0x539760%0x2?ownKeys(Object(_0x4cc5da),!0x0)['forEach'](function(_0x41e5be){_defineProperty(_0x4f8546,_0x41e5be,_0x4cc5da[_0x41e5be]);}):Object[_0x2a0d21(0x1e6)]?Object[_0x2a0d21(0x264)](_0x4f8546,Object[_0x2a0d21(0x1e6)](_0x4cc5da)):ownKeys(Object(_0x4cc5da))[_0x2a0d21(0x22e)](function(_0xc40fa9){var _0x45fd83=_0x2a0d21;Object['defineProperty'](_0x4f8546,_0xc40fa9,Object[_0x45fd83(0x241)](_0x4cc5da,_0xc40fa9));});}return _0x4f8546;}function _classCallCheck(_0x3ef34e,_0x190534){var _0xde81e2=_0xb30f;if(!(_0x3ef34e instanceof _0x190534))throw new TypeError(_0xde81e2(0x200));}function _defineProperties(_0x42f39c,_0x47189a){var _0x2a9754=_0xb30f;for(var _0x22c099=0x0;_0x22c099<_0x47189a[_0x2a9754(0x1f9)];_0x22c099++){var _0x16c2e5=_0x47189a[_0x22c099];_0x16c2e5['enumerable']=_0x16c2e5['enumerable']||![],_0x16c2e5[_0x2a9754(0x220)]=!![];if('value'in _0x16c2e5)_0x16c2e5[_0x2a9754(0x24a)]=!![];Object[_0x2a9754(0x22b)](_0x42f39c,_0x16c2e5['key'],_0x16c2e5);}}function _createClass(_0x12b996,_0x189a26,_0x195657){var _0x7ce785=_0xb30f;if(_0x189a26)_defineProperties(_0x12b996['prototype'],_0x189a26);if(_0x195657)_defineProperties(_0x12b996,_0x195657);return Object['defineProperty'](_0x12b996,_0x7ce785(0x1fc),{'writable':![]}),_0x12b996;}function _defineProperty(_0x32b711,_0x31ae15,_0x1cf6e1){return _0x31ae15 in _0x32b711?Object['defineProperty'](_0x32b711,_0x31ae15,{'value':_0x1cf6e1,'enumerable':!![],'configurable':!![],'writable':!![]}):_0x32b711[_0x31ae15]=_0x1cf6e1,_0x32b711;}function _inherits(_0x3a7a7f,_0x12342e){var _0x4080c5=_0xb30f;if(typeof _0x12342e!==_0x4080c5(0x212)&&_0x12342e!==null)throw new TypeError('Super\x20expression\x20must\x20either\x20be\x20null\x20or\x20a\x20function');_0x3a7a7f[_0x4080c5(0x1fc)]=Object[_0x4080c5(0x204)](_0x12342e&&_0x12342e[_0x4080c5(0x1fc)],{'constructor':{'value':_0x3a7a7f,'writable':!![],'configurable':!![]}}),Object[_0x4080c5(0x22b)](_0x3a7a7f,_0x4080c5(0x1fc),{'writable':![]});if(_0x12342e)_setPrototypeOf(_0x3a7a7f,_0x12342e);}function _getPrototypeOf(_0x5b2190){var _0x242623=_0xb30f;return _getPrototypeOf=Object[_0x242623(0x1fa)]?Object[_0x242623(0x24e)]:function _0x321814(_0x5a1c3b){var _0x36b444=_0x242623;return _0x5a1c3b[_0x36b444(0x20b)]||Object['getPrototypeOf'](_0x5a1c3b);},_getPrototypeOf(_0x5b2190);}function _setPrototypeOf(_0x307261,_0x438f52){var _0xa14fe9=_0xb30f;return _setPrototypeOf=Object[_0xa14fe9(0x1fa)]||function _0x33eb61(_0x58ffd6,_0x25319a){var _0x148c64=_0xa14fe9;return _0x58ffd6[_0x148c64(0x20b)]=_0x25319a,_0x58ffd6;},_setPrototypeOf(_0x307261,_0x438f52);}function _0xb30f(_0x59a599,_0x214097){var _0x4d5416=_0x4d54();return _0xb30f=function(_0xb30fa0,_0x4a2532){_0xb30fa0=_0xb30fa0-0x1cf;var _0x5cc16d=_0x4d5416[_0xb30fa0];if(_0xb30f['zbsKvT']===undefined){var _0x22639d=function(_0x42d163){var _0x49606a='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';var _0x5b2c42='',_0x35d15e='';for(var _0x156d9f=0x0,_0xae550,_0x3d8981,_0x54a769=0x0;_0x3d8981=_0x42d163['charAt'](_0x54a769++);~_0x3d8981&&(_0xae550=_0x156d9f%0x4?_0xae550*0x40+_0x3d8981:_0x3d8981,_0x156d9f++%0x4)?_0x5b2c42+=String['fromCharCode'](0xff&_0xae550>>(-0x2*_0x156d9f&0x6)):0x0){_0x3d8981=_0x49606a['indexOf'](_0x3d8981);}for(var _0x299f7a=0x0,_0x4f8546=_0x5b2c42['length'];_0x299f7a<_0x4f8546;_0x299f7a++){_0x35d15e+='%'+('00'+_0x5b2c42['charCodeAt'](_0x299f7a)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x35d15e);};_0xb30f['OZIEmW']=_0x22639d,_0x59a599=arguments,_0xb30f['zbsKvT']=!![];}var _0x5ae682=_0x4d5416[0x0],_0xa78298=_0xb30fa0+_0x5ae682,_0x14a6a9=_0x59a599[_0xa78298];return!_0x14a6a9?(_0x5cc16d=_0xb30f['OZIEmW'](_0x5cc16d),_0x59a599[_0xa78298]=_0x5cc16d):_0x5cc16d=_0x14a6a9,_0x5cc16d;},_0xb30f(_0x59a599,_0x214097);}function _isNativeReflectConstruct(){var _0x3ebba4=_0xb30f;if(typeof Reflect===_0x3ebba4(0x24f)||!Reflect['construct'])return![];if(Reflect['construct'][_0x3ebba4(0x232)])return![];if(typeof Proxy===_0x3ebba4(0x212))return!![];try{return Boolean[_0x3ebba4(0x1fc)][_0x3ebba4(0x235)]['call'](Reflect['construct'](Boolean,[],function(){})),!![];}catch(_0x3291f9){return![];}}function _assertThisInitialized(_0x908f82){var _0x58138c=_0xb30f;if(_0x908f82===void 0x0)throw new ReferenceError(_0x58138c(0x251));return _0x908f82;}function _possibleConstructorReturn(_0x50bfb7,_0x4bf2ba){var _0x1940d4=_0xb30f;if(_0x4bf2ba&&(typeof _0x4bf2ba===_0x1940d4(0x1dc)||typeof _0x4bf2ba==='function'))return _0x4bf2ba;else{if(_0x4bf2ba!==void 0x0)throw new TypeError(_0x1940d4(0x218));}return _assertThisInitialized(_0x50bfb7);}function _createSuper(_0x4e3396){var _0x3174de=_isNativeReflectConstruct();return function _0x35f33f(){var _0x1f202b=_0xb30f,_0x2af0ef=_getPrototypeOf(_0x4e3396),_0x3f6d2c;if(_0x3174de){var _0x170f38=_getPrototypeOf(this)[_0x1f202b(0x25b)];_0x3f6d2c=Reflect[_0x1f202b(0x271)](_0x2af0ef,arguments,_0x170f38);}else _0x3f6d2c=_0x2af0ef[_0x1f202b(0x201)](this,arguments);return _possibleConstructorReturn(this,_0x3f6d2c);};}var HeatMaterial=_0xbd9382(0x217);if(!h337__namespace[_0xbd9382(0x204)])throw new Error(_0xbd9382(0x263));var Cesium=mars3d__namespace['Cesium'],BaseLayer=mars3d__namespace[_0xbd9382(0x23c)][_0xbd9382(0x1dd)],DEF_HEATSTYLE={'maxOpacity':0.8,'minOpacity':0.1,'blur':0.85,'radius':0x19,'gradient':{0.4:_0xbd9382(0x1fb),0.6:_0xbd9382(0x1e1),0.8:'yellow',0.9:'red'}},DEF_STYLE={'arcRadiusScale':1.5,'arcBlurScale':1.5,'vertexFormat':Cesium[_0xbd9382(0x1df)][_0xbd9382(0x1f6)]},HeatLayer=function(_0x222219){var _0x1289fd=_0xbd9382;_inherits(_0x5c74d2,_0x222219);var _0x2341b5=_createSuper(_0x5c74d2);function _0x5c74d2(){var _0x58c9db=_0xb30f,_0x4077b5,_0x28a9d4,_0x22b026,_0x49c311=arguments['length']>0x0&&arguments[0x0]!==undefined?arguments[0x0]:{};return _classCallCheck(this,_0x5c74d2),_0x22b026=_0x2341b5['call'](this,_0x49c311),_0x22b026[_0x58c9db(0x20a)][_0x58c9db(0x1d4)]=(_0x4077b5=_0x22b026['options'][_0x58c9db(0x1d4)])!==null&&_0x4077b5!==void 0x0?_0x4077b5:document[_0x58c9db(0x259)][_0x58c9db(0x1ff)],_0x22b026[_0x58c9db(0x20a)][_0x58c9db(0x1d4)]=Math[_0x58c9db(0x26b)](_0x22b026[_0x58c9db(0x20a)]['maxCanvasSize'],0x1388),_0x22b026[_0x58c9db(0x20a)][_0x58c9db(0x242)]=(_0x28a9d4=_0x22b026[_0x58c9db(0x20a)]['minCanvasSize'])!==null&&_0x28a9d4!==void 0x0?_0x28a9d4:document[_0x58c9db(0x259)][_0x58c9db(0x211)],_0x22b026[_0x58c9db(0x20a)][_0x58c9db(0x242)]=Math[_0x58c9db(0x24d)](_0x22b026[_0x58c9db(0x20a)][_0x58c9db(0x242)],0x2bc),_0x22b026[_0x58c9db(0x20a)][_0x58c9db(0x1f7)]=_objectSpread2(_objectSpread2({},DEF_HEATSTYLE),_0x22b026[_0x58c9db(0x20a)][_0x58c9db(0x1f7)]||{}),_0x22b026[_0x58c9db(0x20a)]['style']=_objectSpread2(_objectSpread2({},DEF_STYLE),_0x22b026[_0x58c9db(0x20a)][_0x58c9db(0x222)]||{}),_0x22b026;}return _createClass(_0x5c74d2,[{'key':_0x1289fd(0x23c),'get':function _0x3ec51d(){var _0x566faf=_0x1289fd;return this[_0x566faf(0x23a)];}},{'key':_0x1289fd(0x1f7),'get':function _0x426d24(){var _0x4f6664=_0x1289fd;return this[_0x4f6664(0x20a)][_0x4f6664(0x1f7)];},'set':function _0x4b01f4(_0x34f32e){var _0x2be17a=_0x1289fd;this[_0x2be17a(0x20a)]['heatStyle']=mars3d__namespace[_0x2be17a(0x26c)][_0x2be17a(0x20e)](this[_0x2be17a(0x20a)][_0x2be17a(0x1f7)],_0x34f32e),this[_0x2be17a(0x219)]&&(this[_0x2be17a(0x219)][_0x2be17a(0x1d5)](this[_0x2be17a(0x20a)][_0x2be17a(0x1f7)]),this[_0x2be17a(0x1e2)](!![]));}},{'key':_0x1289fd(0x222),'get':function _0x1a7044(){return this['options']['style'];},'set':function _0x50acf4(_0x5ec034){var _0x416afa=_0x1289fd;this[_0x416afa(0x20a)][_0x416afa(0x222)]=mars3d__namespace[_0x416afa(0x26c)]['merge'](this[_0x416afa(0x20a)][_0x416afa(0x222)],_0x5ec034);}},{'key':_0x1289fd(0x1db),'get':function _0x49468d(){return this['_positions'];},'set':function _0x19667e(_0x2a3b8d){this['setPositions'](_0x2a3b8d);}},{'key':_0x1289fd(0x1e7),'get':function _0x513054(){var _0x203cf4=_0x1289fd,_0x1160b9=[];return this[_0x203cf4(0x246)][_0x203cf4(0x22e)](function(_0x50d8d5){_0x1160b9['push'](_0x50d8d5['toArray']());}),_0x1160b9;}},{'key':_0x1289fd(0x230),'get':function _0xbf6f82(){var _0xa00077=_0x1289fd;return this[_0xa00077(0x268)];}},{'key':_0x1289fd(0x21b),'value':function _0x34821d(_0x854462){var _0x5c7f4f=_0x1289fd;_0x854462[_0x5c7f4f(0x1db)]&&(this[_0x5c7f4f(0x1db)]=_0x854462[_0x5c7f4f(0x1db)]);}},{'key':_0x1289fd(0x229),'value':function _0x34f314(){var _0x114952=_0x1289fd;this['_layer']=new mars3d__namespace[(_0x114952(0x23c))][(_0x114952(0x1fd))]({'private':!![]});}},{'key':_0x1289fd(0x1d1),'value':function _0x4d769a(){var _0x3f3a7c=_0x1289fd;this[_0x3f3a7c(0x228)][_0x3f3a7c(0x234)](this[_0x3f3a7c(0x23a)]),this[_0x3f3a7c(0x20a)][_0x3f3a7c(0x1db)]&&(this[_0x3f3a7c(0x1db)]=this['options']['positions']),this[_0x3f3a7c(0x20a)][_0x3f3a7c(0x21e)]&&this['flyToByAnimationEnd']();}},{'key':_0x1289fd(0x205),'value':function _0x1bf2eb(){var _0x35d2b1=_0x1289fd;this[_0x35d2b1(0x1f7)]['container']&&(mars3d__namespace[_0x35d2b1(0x1f4)][_0x35d2b1(0x1d2)](this[_0x35d2b1(0x1f7)]['container']),delete this[_0x35d2b1(0x1f7)][_0x35d2b1(0x1f2)]),this[_0x35d2b1(0x20f)](),this[_0x35d2b1(0x228)][_0x35d2b1(0x215)](this[_0x35d2b1(0x23a)]);}},{'key':_0x1289fd(0x240),'value':function _0x5e2e5b(_0x46853f,_0x35ebe8){var _0x5f02ff=_0x1289fd;this['_positions']=this[_0x5f02ff(0x1ec)]||[],this[_0x5f02ff(0x1ec)][_0x5f02ff(0x24c)](_0x46853f),this[_0x5f02ff(0x1e2)](_0x35ebe8);}},{'key':'setPositions','value':function _0x147daa(_0x43dfb4,_0x1cf653){var _0x5b1d95=_0x1289fd;this[_0x5b1d95(0x1ec)]=_0x43dfb4,this[_0x5b1d95(0x1e2)](_0x1cf653);}},{'key':_0x1289fd(0x20f),'value':function _0x5f4538(){var _0x3f2c41=_0x1289fd;this[_0x3f2c41(0x1ed)]&&(this['_layer'][_0x3f2c41(0x23b)](this['_graphic'],!![]),delete this[_0x3f2c41(0x1ed)]);}},{'key':'_updatePositionsHook','value':function _0x448e84(_0x4d20ab){var _0x474d08=_0x1289fd;if(!this[_0x474d08(0x1e9)]||!this['_map']||!this['positions']||this['positions'][_0x474d08(0x1f9)]===0x0)return this;var _0x4202cb=this['_getHeatCanvas']();return this[_0x474d08(0x222)][_0x474d08(0x255)]?this[_0x474d08(0x1ed)]&&_0x4d20ab?(this['_graphic']['uniforms'][_0x474d08(0x21a)]=_0x4202cb,this['_graphic'][_0x474d08(0x238)]['bumpMap']=this[_0x474d08(0x1ea)]()):this[_0x474d08(0x227)](_0x4202cb):this[_0x474d08(0x1ed)]&&_0x4d20ab?this['_graphic'][_0x474d08(0x238)]['image']=_0x4202cb:this['_createGraphic'](_0x4202cb),this;}},{'key':_0x1289fd(0x23f),'value':function _0x33b1a7(_0x26971d){var _0x4861d8=_0x1289fd;this[_0x4861d8(0x20f)](),this[_0x4861d8(0x1ed)]=new mars3d__namespace[(_0x4861d8(0x257))][(_0x4861d8(0x208))](_objectSpread2(_objectSpread2({},this['options']),{},{'rectangle':this[_0x4861d8(0x268)],'appearance':new Cesium[(_0x4861d8(0x1df))]({'material':new Cesium[(_0x4861d8(0x1e8))]({'fabric':{'uniforms':{'image':_0x26971d},'source':HeatMaterial},'translucent':!![]}),'flat':!![]})})),this['_layer'][_0x4861d8(0x233)](this[_0x4861d8(0x1ed)]);}},{'key':_0x1289fd(0x227),'value':function _0x38daa4(_0xbfd242){var _0x38f14b=_0x1289fd,_0x28d12e;this[_0x38f14b(0x20f)]();var _0x5319e0=Cesium[_0x38f14b(0x1e5)][_0x38f14b(0x25a)]({'cull':{'enabled':!![]},'depthTest':{'enabled':!![]},'stencilTest':{'enabled':!![],'frontFunction':Cesium[_0x38f14b(0x1d6)][_0x38f14b(0x250)],'frontOperation':{'fail':Cesium['StencilOperation'][_0x38f14b(0x1fe)],'zFail':Cesium[_0x38f14b(0x258)][_0x38f14b(0x1fe)],'zPass':Cesium['StencilOperation']['REPLACE']},'backFunction':Cesium[_0x38f14b(0x1d6)][_0x38f14b(0x250)],'backOperation':{'fail':Cesium[_0x38f14b(0x258)][_0x38f14b(0x1fe)],'zFail':Cesium['StencilOperation'][_0x38f14b(0x1fe)],'zPass':Cesium['StencilOperation']['REPLACE']},'reference':0x2,'mask':0x2},'blending':Cesium[_0x38f14b(0x249)][_0x38f14b(0x1ee)]}),_0x1f7e86=Math[_0x38f14b(0x244)]((_0x28d12e=this[_0x38f14b(0x222)][_0x38f14b(0x22c)])!==null&&_0x28d12e!==void 0x0?_0x28d12e:this[_0x38f14b(0x1d7)]*0.02)+0.1;this[_0x38f14b(0x222)][_0x38f14b(0x22c)]&&delete this[_0x38f14b(0x222)][_0x38f14b(0x22c)];var _0x3db009=(this['style']['splitNum'],0x64),_0x597ce0=Math[_0x38f14b(0x24d)](this['_rectangle'][_0x38f14b(0x226)],this['_rectangle']['width']);this[_0x38f14b(0x222)][_0x38f14b(0x225)]=_0x597ce0/=_0x3db009,this[_0x38f14b(0x1ed)]=new mars3d__namespace[(_0x38f14b(0x257))][(_0x38f14b(0x208))](_objectSpread2(_objectSpread2({},this[_0x38f14b(0x20a)]),{},{'rectangle':this[_0x38f14b(0x268)],'appearance':new Cesium[(_0x38f14b(0x1df))]({'aboveGround':!![],'renderState':_0x5319e0,'material':new Cesium[(_0x38f14b(0x1e8))]({'fabric':{'uniforms':{'image':_0xbfd242,'repeat':new Cesium[(_0x38f14b(0x1eb))](0x1,0x1),'color':new Cesium[(_0x38f14b(0x25f))](0x1,0x1,0x1,0.01),'bumpMap':this['_getArcHeatCanvas']()},'source':HeatMaterial},'translucent':!![]}),'vertexShaderSource':_0x38f14b(0x261)[_0x38f14b(0x237)](_0x1f7e86,_0x38f14b(0x269)),'flat':!![]})})),this[_0x38f14b(0x23a)][_0x38f14b(0x233)](this[_0x38f14b(0x1ed)]);}},{'key':_0x1289fd(0x214),'value':function _0x184e35(_0x4bdafc){var _0x400209=_0x1289fd;return _0x4bdafc!==null&&_0x4bdafc!==void 0x0&&_0x4bdafc['isFormat']&&this['_rectangle']?mars3d__namespace[_0x400209(0x26d)][_0x400209(0x22f)](this[_0x400209(0x268)]):this[_0x400209(0x268)];}},{'key':_0x1289fd(0x26a),'value':function _0x21e859(){var _0x4673d3=_0x1289fd,_0x4ee3d8=this,_0x444911,_0x10d4ee,_0x4a3e4d,_0x7eb9ff,_0x426abc=this['_positions'],_0x34c51b=[],_0x662b3e,_0x3eafd9,_0x3fedac,_0x2c12ac;_0x426abc[_0x4673d3(0x22e)](function(_0x2a09dd){var _0x32e23d=_0x4673d3,_0x392116=mars3d__namespace[_0x32e23d(0x1f1)]['parse'](_0x2a09dd);if(!_0x392116)return;_0x392116[_0x32e23d(0x202)]=_0x2a09dd[_0x32e23d(0x202)]||0x1,!_0x4ee3d8[_0x32e23d(0x20a)][_0x32e23d(0x230)]&&(_0x662b3e===undefined?(_0x662b3e=_0x392116[_0x32e23d(0x1de)],_0x3eafd9=_0x392116[_0x32e23d(0x1de)],_0x3fedac=_0x392116[_0x32e23d(0x1e4)],_0x2c12ac=_0x392116[_0x32e23d(0x1e4)]):(_0x662b3e=Math[_0x32e23d(0x26b)](_0x662b3e,_0x392116['lng']),_0x3eafd9=Math['max'](_0x3eafd9,_0x392116['lng']),_0x3fedac=Math[_0x32e23d(0x26b)](_0x3fedac,_0x392116[_0x32e23d(0x1e4)]),_0x2c12ac=Math[_0x32e23d(0x24d)](_0x2c12ac,_0x392116[_0x32e23d(0x1e4)]))),_0x34c51b[_0x32e23d(0x24c)](_0x392116);});var _0x9ed5a6=this[_0x4673d3(0x20a)][_0x4673d3(0x230)]||{'xmin':_0x662b3e,'xmax':_0x3eafd9,'ymin':_0x3fedac,'ymax':_0x2c12ac},_0x32b537=getMercatorBounds(_0x9ed5a6),_0x589da0=Math['abs'](_0x32b537[_0x4673d3(0x21d)]-_0x32b537[_0x4673d3(0x236)]),_0x4a6430=Math[_0x4673d3(0x210)](_0x32b537[_0x4673d3(0x1ef)]-_0x32b537[_0x4673d3(0x267)]),_0x531ad9=Math[_0x4673d3(0x24d)](_0x589da0,_0x4a6430),_0x444b62=Math['min'](_0x589da0,_0x4a6430);this[_0x4673d3(0x1d7)]=_0x531ad9;var _0x47488d=0x1;if(_0x531ad9>this['options']['maxCanvasSize'])_0x47488d=_0x531ad9/this[_0x4673d3(0x20a)][_0x4673d3(0x1d4)],_0x444b62/_0x47488d<this['options'][_0x4673d3(0x242)]&&(_0x47488d=_0x444b62/this[_0x4673d3(0x20a)][_0x4673d3(0x242)]);else _0x444b62<this[_0x4673d3(0x20a)][_0x4673d3(0x242)]&&(_0x47488d=_0x444b62/this[_0x4673d3(0x20a)][_0x4673d3(0x242)],_0x531ad9/_0x47488d>this[_0x4673d3(0x20a)]['maxCanvasSize']&&(_0x47488d=_0x531ad9/this[_0x4673d3(0x20a)][_0x4673d3(0x1d4)]));var _0x31f710=this[_0x4673d3(0x1f7)][_0x4673d3(0x224)]*1.5,_0x3da3cb=_0x589da0/_0x47488d+_0x31f710*0x2,_0x59bb2a=_0x4a6430/_0x47488d+_0x31f710*0x2,_0x5d553a=_0x31f710*_0x47488d;_0x32b537[_0x4673d3(0x236)]-=_0x5d553a,_0x32b537[_0x4673d3(0x267)]-=_0x5d553a,_0x32b537[_0x4673d3(0x21d)]+=_0x5d553a,_0x32b537[_0x4673d3(0x1ef)]+=_0x5d553a,this[_0x4673d3(0x1e0)]=_0x47488d,_0x9ed5a6=geLatLngBounds(_0x32b537),this['_rectangle']=Cesium[_0x4673d3(0x203)][_0x4673d3(0x265)](_0x9ed5a6[_0x4673d3(0x236)],_0x9ed5a6['ymin'],_0x9ed5a6['xmax'],_0x9ed5a6[_0x4673d3(0x1ef)]);var _0x45df62=(_0x444911=_0x34c51b[0x0]['value'])!==null&&_0x444911!==void 0x0?_0x444911:0x1,_0xc14428=(_0x10d4ee=_0x34c51b[0x0][_0x4673d3(0x202)])!==null&&_0x10d4ee!==void 0x0?_0x10d4ee:0x0,_0x109a37=[];_0x34c51b[_0x4673d3(0x22e)](function(_0x4910aa){var _0x3f078d=_0x4673d3,_0xf80a2f=mars3d__namespace[_0x3f078d(0x1d3)]['lonlat2mercator']([_0x4910aa[_0x3f078d(0x1de)],_0x4910aa['lat']]),_0x4861f2=_0x4910aa['value']||0x1,_0x1ba5fd=Math[_0x3f078d(0x1d9)]((_0xf80a2f[0x0]-_0x32b537['xmin'])/_0x47488d),_0x2fb99e=Math[_0x3f078d(0x1d9)]((_0x32b537[_0x3f078d(0x1ef)]-_0xf80a2f[0x1])/_0x47488d);_0x45df62=Math['max'](_0x45df62,_0x4861f2),_0xc14428=Math['min'](_0xc14428,_0x4861f2),_0x109a37['push']({'x':_0x1ba5fd,'y':_0x2fb99e,'value':_0x4861f2});});var _0x37ec90={'min':(_0x4a3e4d=this['options']['min'])!==null&&_0x4a3e4d!==void 0x0?_0x4a3e4d:_0xc14428,'max':(_0x7eb9ff=this[_0x4673d3(0x20a)][_0x4673d3(0x24d)])!==null&&_0x7eb9ff!==void 0x0?_0x7eb9ff:_0x45df62,'data':_0x109a37};this[_0x4673d3(0x243)]=_0x37ec90;(!this[_0x4673d3(0x21f)]||_0x32b537[_0x4673d3(0x236)]!==this[_0x4673d3(0x21f)][_0x4673d3(0x236)]||_0x32b537['ymin']!==this['_last_mBounds'][_0x4673d3(0x267)]||_0x32b537[_0x4673d3(0x21d)]!==this['_last_mBounds'][_0x4673d3(0x21d)]||_0x32b537[_0x4673d3(0x1ef)]!==this[_0x4673d3(0x21f)]['ymax'])&&(this[_0x4673d3(0x21f)]=_0x32b537,!this[_0x4673d3(0x1f7)][_0x4673d3(0x1f2)]&&(this[_0x4673d3(0x1f7)][_0x4673d3(0x1f2)]=mars3d__namespace[_0x4673d3(0x1f4)]['create'](_0x4673d3(0x209),_0x4673d3(0x266),this[_0x4673d3(0x228)][_0x4673d3(0x1f2)])),this['heatStyle'][_0x4673d3(0x1f2)][_0x4673d3(0x222)]['cssText']=_0x4673d3(0x1f5)[_0x4673d3(0x237)](_0x3da3cb,_0x4673d3(0x1cf))['concat'](_0x59bb2a,_0x4673d3(0x26f)),!this[_0x4673d3(0x219)]?this[_0x4673d3(0x219)]=h337__namespace['create'](this[_0x4673d3(0x1f7)]):this[_0x4673d3(0x219)][_0x4673d3(0x1d5)](this[_0x4673d3(0x1f7)]));this[_0x4673d3(0x219)][_0x4673d3(0x1d8)](_0x37ec90);var _0x48d6de=mars3d__namespace[_0x4673d3(0x1f4)][_0x4673d3(0x26e)](this[_0x4673d3(0x219)][_0x4673d3(0x24b)][_0x4673d3(0x223)]);return _0x48d6de;}},{'key':'_getArcHeatCanvas','value':function _0x447a11(){var _0x1a2db6=_0x1289fd;this[_0x1a2db6(0x219)][_0x1a2db6(0x1d5)]({'radius':this['heatStyle'][_0x1a2db6(0x224)]*this[_0x1a2db6(0x222)][_0x1a2db6(0x262)],'blur':this[_0x1a2db6(0x1f7)][_0x1a2db6(0x1da)]*this['style'][_0x1a2db6(0x1f3)],'gradient':this[_0x1a2db6(0x1f7)][_0x1a2db6(0x25d)]||{0.25:'rgb(0,0,0)',0.55:_0x1a2db6(0x248),0.85:_0x1a2db6(0x1e3),0x1:_0x1a2db6(0x247)}});var _0x454107=mars3d__namespace[_0x1a2db6(0x1f4)][_0x1a2db6(0x26e)](this[_0x1a2db6(0x219)][_0x1a2db6(0x24b)][_0x1a2db6(0x223)]);return this[_0x1a2db6(0x219)]['configure'](this[_0x1a2db6(0x20a)]['heatStyle']),_0x454107;}},{'key':_0x1289fd(0x20d),'value':function _0x35e3cf(_0x3ac941){var _0x4c9e0b=_0x1289fd,_0x8a7557=mars3d__namespace[_0x4c9e0b(0x1f1)][_0x4c9e0b(0x231)](_0x3ac941);if(!_0x8a7557)return{};var _0x28a732=mars3d__namespace[_0x4c9e0b(0x1d3)][_0x4c9e0b(0x206)]([_0x8a7557['lng'],_0x8a7557[_0x4c9e0b(0x1e4)]]),_0x1ba2a8=this['_last_mBounds'],_0x50c2d5=Math[_0x4c9e0b(0x1d9)]((_0x28a732[0x0]-_0x1ba2a8[_0x4c9e0b(0x236)])/this[_0x4c9e0b(0x1e0)]),_0x117d06=Math[_0x4c9e0b(0x1d9)]((_0x1ba2a8[_0x4c9e0b(0x1ef)]-_0x28a732[0x1])/this[_0x4c9e0b(0x1e0)]),_0x318f26=this['_heat'][_0x4c9e0b(0x25e)]({'x':_0x50c2d5,'y':_0x117d06}),_0x38d2f0=this[_0x4c9e0b(0x219)][_0x4c9e0b(0x24b)]['ctx']['getImageData'](_0x50c2d5-0x1,_0x117d06-0x1,0x1,0x1)[_0x4c9e0b(0x253)];return{'x':_0x50c2d5,'y':_0x117d06,'value':_0x318f26,'color':_0x4c9e0b(0x270)+_0x38d2f0[0x0]+','+_0x38d2f0[0x1]+','+_0x38d2f0[0x2]+','+_0x38d2f0[0x3]+')'};}}]),_0x5c74d2;}(BaseLayer);mars3d__namespace[_0xbd9382(0x23c)]['HeatLayer']=HeatLayer,mars3d__namespace[_0xbd9382(0x20c)]['register'](_0xbd9382(0x22a),HeatLayer);function getMercatorBounds(_0x316802){var _0x72c343=_0xbd9382,_0x1b6de3=mars3d__namespace[_0x72c343(0x1d3)][_0x72c343(0x206)]([_0x316802['xmin'],_0x316802[_0x72c343(0x267)]]),_0x222622=mars3d__namespace[_0x72c343(0x1d3)]['lonlat2mercator']([_0x316802[_0x72c343(0x21d)],_0x316802['ymax']]);return{'xmin':_0x1b6de3[0x0],'ymin':_0x1b6de3[0x1],'xmax':_0x222622[0x0],'ymax':_0x222622[0x1]};}function geLatLngBounds(_0x44f763){var _0x2730bf=_0xbd9382,_0x5128b2=mars3d__namespace[_0x2730bf(0x1d3)][_0x2730bf(0x260)]([_0x44f763[_0x2730bf(0x236)],_0x44f763[_0x2730bf(0x267)]]),_0x1f8900=mars3d__namespace[_0x2730bf(0x1d3)][_0x2730bf(0x260)]([_0x44f763['xmax'],_0x44f763[_0x2730bf(0x1ef)]]);return{'xmin':_0x5128b2[0x0],'ymin':_0x5128b2[0x1],'xmax':_0x1f8900[0x0],'ymax':_0x1f8900[0x1]};}exports[_0xbd9382(0x23d)]=HeatLayer,Object[_0xbd9382(0x22b)](exports,_0xbd9382(0x252),{'value':!![]});
}));
